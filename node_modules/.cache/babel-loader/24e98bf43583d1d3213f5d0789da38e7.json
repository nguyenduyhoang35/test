{"ast":null,"code":"var _jsxFileName = \"/Users/hoangnguyen/Desktop/sskpi/untitled/src/components/SwipeItem.js\";\nimport React, { Component } from 'react';\n\nclass SwipeItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      left: 0,\n      originalOffset: 0,\n      velocity: 0,\n      timeOfLastDragEvent: 0,\n      touchStartX: 0,\n      prevTouchX: 0,\n      beingTouched: false,\n      height: 0,\n      intervalId: null\n    };\n  }\n\n  componentDidMount() {\n    window.setTimeout(() => this.setState({\n      height: 320\n    }), 10);\n  }\n\n  animateSlidingToZero() {\n    let {\n      left,\n      velocity,\n      beingTouched\n    } = this.state;\n\n    if (!beingTouched && left < -0.01) {\n      velocity += 10 * 0.033;\n      left += velocity;\n\n      if (left < -350) {\n        window.clearInterval(this.state.intervalId);\n        this.handleRemoveSelf();\n      }\n\n      this.setState({\n        left,\n        velocity\n      });\n    } else if (!beingTouched) {\n      left = 0;\n      velocity = 0;\n      window.clearInterval(this.state.intervalId);\n      this.setState({\n        left,\n        velocity,\n        intervalId: null,\n        originalOffset: 0\n      });\n    }\n  }\n\n  handleRemoveSelf() {\n    this.setState({\n      height: 0\n    });\n    window.setTimeout(() => this.props.onRemoval(), 250);\n  }\n\n  handleStart(clientX) {\n    if (this.state.intervalId !== null) {\n      window.clearInterval(this.state.intervalId);\n    }\n\n    this.setState({\n      originalOffset: this.state.left,\n      velocity: 0,\n      timeOfLastDragEvent: Date.now(),\n      touchStartX: clientX,\n      beingTouched: true,\n      intervalId: null\n    });\n  }\n\n  handleMove(clientX) {\n    if (this.state.beingTouched) {\n      const touchX = clientX;\n      const currTime = Date.now();\n      const elapsed = currTime - this.state.timeOfLastDragEvent;\n      const velocity = 20 * (touchX - this.state.prevTouchX) / elapsed;\n      let deltaX = touchX - this.state.touchStartX + this.state.originalOffset;\n\n      if (deltaX < -350) {// this.handleRemoveSelf();\n      } else if (deltaX > 0) {\n        deltaX = 0;\n      }\n\n      this.setState({\n        left: deltaX,\n        velocity,\n        timeOfLastDragEvent: currTime,\n        prevTouchX: touchX\n      });\n    }\n  }\n\n  handleEnd() {\n    this.setState({\n      velocity: this.state.velocity,\n      touchStartX: 0,\n      beingTouched: false,\n      intervalId: window.setInterval(this.animateSlidingToZero.bind(this), 33)\n    });\n  }\n\n  handleTouchStart(touchStartEvent) {\n    touchStartEvent.preventDefault();\n    this.handleMotionStart(touchStartEvent.targetTouches[0].clientX);\n  }\n\n  handleTouchMove(touchMoveEvent) {\n    this.handleMove(touchMoveEvent.targetTouches[0].clientX);\n  }\n\n  handleTouchEnd() {\n    this.handleEnd();\n  }\n\n  handleMouseDown(mouseDownEvent) {\n    mouseDownEvent.preventDefault();\n    this.handleStart(mouseDownEvent.clientX);\n  }\n\n  handleMouseMove(mouseMoveEvent) {\n    this.handleMove(mouseMoveEvent.clientX);\n  }\n\n  handleMouseUp() {\n    this.handleEnd();\n  }\n\n  handleMouseLeave() {\n    this.handleMouseUp();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card hovercard\",\n      style: {\n        height: this.state.height + 'px',\n        transition: 'height 250ms ease-in-out'\n      },\n      onTouchStart: touchStartEvent => this.handleTouchStart(touchStartEvent),\n      onTouchMove: touchMoveEvent => this.handleTouchMove(touchMoveEvent),\n      onTouchEnd: () => this.handleTouchEnd() // The following event handlers are for mouse compatibility:\n      ,\n      onMouseDown: mouseDownEvent => this.handleMouseDown(mouseDownEvent),\n      onMouseMove: mouseMoveEvent => this.handleMouseMove(mouseMoveEvent),\n      onMouseUp: () => this.handleMouseUp(),\n      onMouseLeave: () => this.handleMouseLeave(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, this.props.children);\n  }\n\n}\n\nexport default SwipeItem;","map":{"version":3,"sources":["/Users/hoangnguyen/Desktop/sskpi/untitled/src/components/SwipeItem.js"],"names":["React","Component","SwipeItem","constructor","props","state","left","originalOffset","velocity","timeOfLastDragEvent","touchStartX","prevTouchX","beingTouched","height","intervalId","componentDidMount","window","setTimeout","setState","animateSlidingToZero","clearInterval","handleRemoveSelf","onRemoval","handleStart","clientX","Date","now","handleMove","touchX","currTime","elapsed","deltaX","handleEnd","setInterval","bind","handleTouchStart","touchStartEvent","preventDefault","handleMotionStart","targetTouches","handleTouchMove","touchMoveEvent","handleTouchEnd","handleMouseDown","mouseDownEvent","handleMouseMove","mouseMoveEvent","handleMouseUp","handleMouseLeave","render","transition","children"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n\nclass SwipeItem extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            left: 0,\n            originalOffset: 0,\n            velocity: 0,\n            timeOfLastDragEvent: 0,\n            touchStartX: 0,\n            prevTouchX: 0,\n            beingTouched: false,\n            height: 0,\n            intervalId: null\n        };\n    }\n\n    componentDidMount() {\n        window.setTimeout(() => this.setState({height: 320}), 10);\n    }\n\n    animateSlidingToZero() {\n        let {left, velocity, beingTouched} = this.state;\n        if (!beingTouched && left < -0.01) {\n            velocity += 10 * 0.033;\n            left += velocity;\n\n            if (left < -350) {\n                window.clearInterval(this.state.intervalId);\n                this.handleRemoveSelf();\n            }\n            this.setState({left, velocity});\n        } else if (!beingTouched) {\n            left = 0;\n            velocity = 0;\n            window.clearInterval(this.state.intervalId);\n            this.setState({left, velocity, intervalId: null, originalOffset: 0});\n        }\n    }\n\n    handleRemoveSelf() {\n        this.setState({height: 0});\n        window.setTimeout(() => this.props.onRemoval(), 250);\n    }\n\n    handleStart(clientX) {\n        if (this.state.intervalId !== null) {\n            window.clearInterval(this.state.intervalId);\n        }\n        this.setState({\n            originalOffset: this.state.left,\n            velocity: 0,\n            timeOfLastDragEvent: Date.now(),\n            touchStartX: clientX,\n            beingTouched: true,\n            intervalId: null\n        });\n    }\n\n    handleMove(clientX) {\n        if (this.state.beingTouched) {\n            const touchX = clientX;\n            const currTime = Date.now();\n            const elapsed = currTime - this.state.timeOfLastDragEvent;\n            const velocity = 20 * (touchX - this.state.prevTouchX) / elapsed;\n            let deltaX = touchX - this.state.touchStartX + this.state.originalOffset;\n            if (deltaX < -350) {\n                // this.handleRemoveSelf();\n            } else if (deltaX > 0) {\n                deltaX = 0;\n            }\n            this.setState({\n                left: deltaX,\n                velocity,\n                timeOfLastDragEvent: currTime,\n                prevTouchX: touchX\n            });\n        }\n    }\n\n    handleEnd() {\n        this.setState({\n            velocity: this.state.velocity,\n            touchStartX: 0,\n            beingTouched: false,\n            intervalId: window.setInterval(this.animateSlidingToZero.bind(this), 33)\n        });\n    }\n\n    handleTouchStart(touchStartEvent) {\n        touchStartEvent.preventDefault();\n        this.handleMotionStart(touchStartEvent.targetTouches[0].clientX);\n    }\n\n    handleTouchMove(touchMoveEvent) {\n        this.handleMove(touchMoveEvent.targetTouches[0].clientX);\n    }\n\n    handleTouchEnd() {\n        this.handleEnd();\n    }\n\n    handleMouseDown(mouseDownEvent) {\n        mouseDownEvent.preventDefault();\n        this.handleStart(mouseDownEvent.clientX);\n    }\n\n    handleMouseMove(mouseMoveEvent) {\n        this.handleMove(mouseMoveEvent.clientX);\n    }\n\n    handleMouseUp() {\n        this.handleEnd();\n    }\n\n    handleMouseLeave() {\n        this.handleMouseUp();\n    }\n\n    render() {\n        return (\n            <div\n                className=\"card hovercard\"\n                style={{height: this.state.height + 'px', transition: 'height 250ms ease-in-out'}}\n                onTouchStart={touchStartEvent => this.handleTouchStart(touchStartEvent)}\n                onTouchMove={touchMoveEvent => this.handleTouchMove(touchMoveEvent)}\n                onTouchEnd={() => this.handleTouchEnd()}\n                // The following event handlers are for mouse compatibility:\n                onMouseDown={mouseDownEvent => this.handleMouseDown(mouseDownEvent)}\n                onMouseMove={mouseMoveEvent => this.handleMouseMove(mouseMoveEvent)}\n                onMouseUp={() => this.handleMouseUp()}\n                onMouseLeave={() => this.handleMouseLeave()}\n            >\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nexport default SwipeItem"]},"metadata":{},"sourceType":"module"}